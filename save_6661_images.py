import tensorflow as tf
import numpy as np
import pandas as pd 
import matplotlib.pyplot as plt
from sklearn.preprocessing import MinMaxScaler 
import time
import json
import datetime
import requests

from tensorflow.python.keras.callbacks import TensorBoard
from keras.callbacks import EarlyStopping
from keras.callbacks import ModelCheckpoint
from keras import regularizers


# from tensorflow.python.client import device_lib # Just to check whether I'm using CPU or GPU 
# print(device_lib.list_local_devices())


stocks_list = ['aal','aapl','adbe','adi','adp','adsk','algn','alxn','amat','amd','amgn','amzn','asml','atvi','avgo','bidu','biib','bkng'
            ,'bmrn','cdns','celg','cern','chkp','chtr','cmcsa','cost','csco','csx','ctas','ctrp','ctsh','ctxs','dltr','ea','ebay'
            ,'expe','fast','fb','fisv','fox','foxa','gild','goog','googl','has','hsic','idxx','ilmn','incy','intc','intu','isrg','jbht'
               ,'jd','khc','klac','lbtya','lbtyk','lrcx','lulu','mar','mchp','mdlz','meli','mnst','msft','mu','mxim','myl','nflx','ntap'
               ,'ntes','nvda','nxpi','orly','payx','pcar','pep','pypl','qcom','regn','rost','sbux','siri','snps','swks','symc','tmus',
               'tsla','ttwo','txn','ual','ulta','vrsk','vrsn','vrtx','wba','wday','wdc','wltw','wynn','xel','xlnx']

stocks_list_test = ['aal','aapl','adbe','adi','adp']

SandPplusNasdaq = ['DVA', 'ETFC', 'TFC', 'BBY', 'AMP', 'AVB', 'PNC', 'RSG', 'AVY', 'JCI', 'CRM', 'SBAC', 'BAX', 'CTSH', 'INCY', 'FDX', 'O', 'EQR', 'CMCSA', 'AMT', 'FLIR', 'UHS', 'PKI', 
                    'TSLA', 'IBM', 'PFG', 'QRVO', 'JPM', 'MO', 'LMT', 'TSN', 'NI', 'ZTS', 'CFG', 'SYMC', 'MSI', 'MSCI', 'RF', 'GOOG', 'BKNG', 'CSX', 'KLAC', 'LULU', 'BWA', 'ULTA', 'CXO', 
                    'AIG', 'PG', 'VRSN', 'GE', 'TJX', 'AKAM', 'XOM', 'C', 'FRC', 'SYK', 'CMS', 'CBRE', 'LW', 'DRE', 'TIF', 'BXP', 'AEE', 'ADM', 'GPC', 'RHI', 'XRAY', 'SYY', 'HSY', 'WRB', 
                    'COO', 'CVX', 'APTV', 'ARNC', 'NLSN', 'SEE', 'ISRG', 'MDT', 'GWW', 'ABBV', 'WAB', 'PNR', 'ASML', 'KHC', 'JNJ', 'UNM', 'BA', 'HLT', 'EMN', 'NVDA', 'MCK', 'GD', 'AAL', 
                    'FBHS', 'ESS', 'DISCA', 'MA', 'NOW', 'FITB', 'GM', 'LNT', 'WELL', 'SLG', 'KSU', 'IT', 'A', 'NWSA', 'UNH', 'ZBRA', 'PAYX', 'M', 'URI', 'VMC', 'SIRI', 'XYL', 'FLS', 
                    'MCD', 'ALK', 'EXPD', 'ALB', 'CINF', 'FTV', 'CHD', 'AXP', 'SNA', 'AFL', 'CCI', 'PHM', 'IRM', 'MTD', 'MAR', 'CF', 'DIS', 'DFS', 'EIX', 'HPQ', 'K', 'VNO', 'CAG', 'DOW', 
                    'IFF', 'RCL', 'MSFT', 'HBAN', 'AMCR', 'NCLH', 'XLNX', 'WAT', 'DGX', 'SIVB', 'AEP', 'HCA', 'PCAR', 'PSX', 'BDX', 'HAL', 'WBA', 'UPS', 'COF', 'LH', 'MHK', 'KEYS', 'ALGN', 
                    'BKR', 'FLT', 'PM', 'NOV', 'PNW', 'HES', 'IEX', 'LOW', 'NEM', 'SO', 'ADP', 'REG', 'CERN', 'FB', 'PWR', 'AVGO', 'TXN', 'QCOM', 'ALLE', 'USB', 'BMRN', 'MMM', 'ZBH', 'MS', 
                    'AMZN', 'VIAC', 'ECL', 'PPL', 'WDAY', 'NLOK', 'MU', 'V', 'CLX', 'FANG', 'WLTW', 'BR', 'NKE', 'NWL', 'EW', 'KO', 'KEY', 'WFC', 'LIN', 'AIV', 'RJF', 'ADBE', 'IPGP', 'ROL', 
                    'CPRI', 'DOV', 'SPGI', 'BRK-B', 'DRI', 'DE', 'EOG', 'CHRW', 'NBL', 'WMB', 'T', 'AOS', 'BLK', 'MXIM', 'VRSK', 'CB', 'TGT', 'WMT', 'ADSK', 'APA', 'AMGN', 'AMAT', 'WHR', 
                    'TXT', 'CNP', 'ICE', 'UNP', 'UAA', 'CTXS', 'ADS', 'PEG', 'MPC', 'AGN', 'ACN', 'WDC', 'FTI', 'OMC', 'AIZ', 'KR', 'CTL', 'DAL', 'CHKP', 'YUM', 'MGM', 'MELI', 'CNC', 'CVS', 
                    'CAT', 'PXD', 'DISH', 'HUM', 'MNST', 'PRU', 'HST', 'TTWO', 'AJG', 'IQV', 'WRK', 'OKE', 'TWTR', 'KMX', 'FOX', 'IVZ', 'VLO', 'CTVA', 'HBI', 'IDXX', 'RMD', 'ABC', 'OXY', 
                    'ANTM', 'MCO', 'WYNN', 'LNC', 'LB', 'VRTX', 'ABMD', 'LUV', 'COP', 'DHI', 'MMC', 'CI', 'NEE', 'GPS', 'MLM', 'PKG', 'COTY', 'ED', 'BSX', 'DTE', 'TSCO', 'SYF', 'SJM', 
                    'BEN', 'EXR', 'SWKS', 'VAR', 'AWK', 'KMB', 'HP', 'GOOGL', 'AAPL', 'NTAP', 'AME', 'TMUS', 'ROP', 'BK', 'DHR', 'ADI', 'KMI', 'TAP', 'AMD', 'J', 'INTU', 'DXC', 'TDG', 
                    'ARE', 'LHX', 'ATO', 'GILD', 'ORCL', 'WU', 'HAS', 'HFC', 'FIS', 'RTN', 'HOLX', 'HSIC', 'SWK', 'SCHW', 'CHTR', 'MET', 'RE', 'HIG', 'MKC', 'CPRT', 'EXC', 'PEP', 'FMC', 
                    'EL', 'COST', 'NSC', 'BIDU', 'PH', 'HRB', 'XEL', 'CBOE', 'PPG', 'AZO', 'JWN', 'INTC', 'LYB', 'PVH', 'NXPI', 'TROW', 'REGN', 'CL', 'ZION', 'NTRS', 'ABT', 'FE', 'BAC', 
                    'VFC', 'CDW', 'MRK', 'MCHP', 'HRL', 'CPB', 'BMY', 'TT', 'KSS', 'EFX', 'EQIX', 'LBTYA', 'ETN', 'PFE', 'PSA', 'LEN', 'CTRP', 'ANSS', 'XRX', 'SLB', 'ALXN', 'NDAQ', 'EXPE', 
                    'PEAK', 'JBHT', 'DLR', 'HD', 'WEC', 'ALL', 'CE', 'AES', 'TPR', 'HPE', 'NOC', 'PLD', 'FAST', 'CELG', 'D', 'NWS', 'GPN', 'PGR', 'TRV', 'FCX', 'PYPL', 'MRO', 'ATVI', 'ES', 
                    'GIS', 'FOXA', 'TMO', 'EA', 'VTR', 'NTES', 'FTNT', 'IP', 'APD', 'LYV', 'CDNS', 'IPG', 'EMR', 'UDR', 'GRMN', 'DUK', 'MKTX', 'MDLZ', 'PRGO', 'DLTR', 'L', 'WY', 'MYL', 
                    'AAP', 'AON', 'LRCX', 'FRT', 'NRG', 'FISV', 'SBUX', 'APH', 'JNPR', 'EVRG', 'F', 'UA', 'NVR', 'UTX', 'SHW', 'STT', 'TFX', 'GLW', 'LDOS', 'ITW', 'NUE', 'CSCO', 'BLL', 'LLY', 
                    'BF-B', 'UAL', 'IR', 'SRE', 'ETR', 'HII', 'WM', 'MOS', 'STX', 'EBAY', 'CAH', 'DD', 'ORLY', 'CCL', 'DG', 'ODFL', 'ROK', 'COG', 'HON', 'STE', 'ILMN', 'LKQ', 'GL', 'LEG', 
                    'VZ', 'LVS', 'CMG', 'GS', 'BIIB', 'STZ', 'CME', 'LBTYK', 'CTAS', 'HOG', 'JKHY', 'NFLX', 'CMA', 'MAA', 'SPG', 'ROST', 'FFIV', 'PBCT', 'RL', 'ANET', 'INFO', 'MAS', 'JD', 
                    'DISCK', 'MTB', 'DVN', 'PAYC', 'TEL', 'KIM', 'CMI', 'SNPS']

NYSE = ['A','AA','AAN','AAP','AAT','AB','ABB','ABBV','ABC','ABEV','ABG','ABM','ABR','ABR-A','ABR-B','ABR-C','ABT','AC','ACA',
        'ACB','ACC','ACCO','ACE.W','ACEL','ACH','ACM','ACN','ACP','ACRE','ACV','ADC','ADM','ADNT','ADS','ADSW','ADT','ADX',
        'AEB','AEE','AEFC','AEG','AEL','AEL-A','AEM','AEO','AEP','AEP-B','AER','AES','AFB','AFC','AFG','AFGB','AFGC','AFGH','AFI','AFL','AFT','AG','AGCO','AGD','AGI','AGM','AGM-A','AGM-C','AGM-D','AGM.A','AGN','AGO','AGO-B','AGO-E','AGO-F','AGR','AGRO','AGS','AGX','AHC','AHH','AHH-A','AHL-C','AHL-D','AHL-E','AHT','AHT-D','AHT-F','AHT-G','AHT-H','AHT-I','AI','AI-B','AI-C','AIC','AIF','AIG','AIG-A','AIG.W','AIN','AIO','AIR','AIT','AIV','AIW','AIZ','AIZP','AJG','AJRD','AJX','AJXA','AKO.A','AKO.B','AKR','AKS','AL','AL-A','ALB','ALC','ALE','ALEX','ALG','ALI-A','ALI-B','ALI-E','ALK','ALL','ALL-B','ALL-G','ALL-H','ALL-I','ALL-Y','ALLE','ALLY','ALP-Q','ALSN','ALT.W','ALTG','ALU.U','ALU.W','ALUS','ALV','ALX','AM','AMB.W','AMBC','AMC','AMCR','AME','AMG','AMH','AMH-D','AMH-E','AMH-F','AMH-G','AMH-H','AMK','AMN','AMOV','AMP','AMPY','AMRC','AMRX','AMT','AMX','AN','ANET','ANF','ANH','ANH-A','ANH-B','ANH-C','ANTM','AOD','AON','AOS','AP','APA','APAM','APD','APH','APHA','APLE','APO','APO-A','APO-B','APRN','APTS','APTV','APY','AQN','AQNA','AQNB','AQUA','AR','ARA','ARC','ARCH','ARCO','ARD','ARDC','ARE','ARE-A','ARES','ARGD','ARGO','ARI','ARL','ARLO','ARMK','ARNC','AROC','ARR','ARR-C','ARW','ASA','ASB','ASB-C','ASB-D','ASB-E','ASC','ASG','ASGN','ASH','ASIX','ASPN','ASR','ASX','AT','ATC-D','ATC-E','ATC-G','ATC-H','ATC-I','ATCO','ATEN','ATGE','ATH','ATH-A','ATH-B','ATHM','ATI','ATKR','ATO','ATR','ATTO','ATUS','ATV','AU','AUY','AVA','AVAL','AVB','AVD','AVH','AVK','AVLR','AVNS','AVT-A','AVTR','AVX','AVY','AVYA','AWF','AWI','AWK','AWP','AWR','AX','AXE','AXL','AXO','AXP','AXR','AXS','AXS-E','AXTA','AYI','AYR','AYX','AZN','AZO','AZRE','AZUL','AZZ','B','BA','BABA','BAC','BAC-A','BAC-B','BAC-C','BAC-E','BAC-K','BAC-L','BAC-M','BAC-N','BAF','BAH','BAK','BAM','BAN-D','BAN-E','BANC','BAP','BAX','BB','BBAR','BBD','BBDC','BBDO','BBF','BBK','BBL','BBN','BBU','BBVA','BBW','BBX','BBY','BC','BC-A','BC-B','BC-C','BCC','BCE','BCEI','BCH','BCO','BCRH','BCS','BCSF','BCX','BDC','BDJ','BDN','BDX','BDXA','BE','BEDU','BEN','BEP','BEP-A','BERY','BEST','BF.A','BF.B','BFAM','BFK','BFO','BFS','BFS-D','BFS-E','BFY','BFZ','BG','BGB','BGG','BGH','BGIO','BGR','BGS','BGSF','BGT','BGX','BGY','BH','BH.A','BHC','BHE','BHK','BHLB','BHP','BHR','BHR-B','BHR-D','BHV','BHVN','BIF','BIG','BILL','BIO','BIO.B','BIP','BIP.P','BIPC','BIT','BITA','BJ','BK','BK-C','BKD','BKE','BKH','BKI','BKK','BKN','BKR','BKT','BKU','BLD','BLE','BLK','BLL','BLW','BLX','BMA','BME','BMEZ','BMI','BML-G','BML-H','BML-J','BML-L','BMO','BMY','BMY.P','BNED','BNS','BNY','BOE','BOH','BOOT','BORR','BOX','BP','BPMP','BPT','BQH','BR','BRBR','BRC','BRFS','BRK.A','BRK.B','BRMK','BRO','BRT','BRX','BSA','BSAC','BSBR','BSD','BSE','BSIG','BSL','BSM','BSMX','BST','BSTZ','BSX','BTA','BTE','BTI','BTO','BTT','BTU','BTZ','BUD','BUI','BURL','BV','BVN','BW','BWA','BWG','BWXT','BX','BXC','BXG','BXMT','BXMX','BXP','BXP-B','BXS','BXS-A','BY','BYD','BYM','BZH','BZM','C','C-J','C-K','C-N','C-S','CAAP','CABO','CACI','CADE','CAE','CAF','CAG','CAH','CAI','CAI-A','CAI-B','CAJ','CAL','CALX','CANG','CAPL','CAR.P','CARR','CARS','CAT','CATO','CB','CBB','CBB-B','CBD','CBH','CBL','CBL-D','CBL-E','CBRE','CBT','CBU','CBZ','CC','CCA.U','CCC','CCEP','CCH','CCH.U','CCH.W','CCI','CCI-A','CCJ','CCK','CCL','CCM','CCO','CCR','CCS','CCU','CCX','CCX.U','CCX.W','CCXX','CCZ','CDAY','CDE','CDR','CDR-B','CDR-C','CE','CEA','CEE','CEIX','CEL','CEL.P','CELP','CEM','CEN','CEO','CEPU','CEQ.P','CEQP','CF','CFG','CFG-D','CFG-E','CFR','CFR-A','CFX','CFXA','CGA','CGC','CHA','CHAP','CHCT','CHD','CHE','CHGG','CHH','CHK','CHK-D','CHL','CHM-A','CHM-B','CHMI','CHN','CHRA','CHS','CHT','CHU','CHWY','CI','CIA','CIB','CIEN','CIF','CIG','CIG.C','CII','CIM','CIM-A','CIM-B','CIM-C','CIM-D','CINR','CIO','CIO-A','CIR','CIT','CIT-B','CKH','CL','CLB','CLDR','CLDT','CLF','CLGX','CLH','CLI','CLN-G','CLN-H','CLN-I','CLN-J','CLNC','CLNY','CLPR','CLR','CLS','CLW','CLX','CM','CMA','CMC','CMCM','CMD','CMG','CMI','CMO','CMO-E','CMP','CMR-B','CMR-C','CMR-D','CMR-E','CMRE','CMS','CMS-B','CMSA','CMSC','CMSD','CMU','CNA','CNC','CNF','CNHI','CNI','CNK','CNMD','CNNE','CNO','CNP','CNP-B','CNQ','CNR','CNS','CNX','CNXM','CO','COD-A','COD-B','COD-C','CODI','COE','COF','COF-F','COF-G','COF-H','COF-I','COF-J','COG','COLD','COO','COP','COR','COR-Z','CORR','COTY','CP','CPA','CPAC','CPB','CPE','CPF','CPG','CPK','CPLG','CPRI','CPS','CPT','CR','CRC','CRD.A','CRD.B','CRH','CRI','CRK','CRL','CRM','CRS','CRT','CRY','CS','CSL','CSLT','CSPR','CSTM','CSU','CSV','CTA-A','CTA-B','CTAA','CTB','CTBB','CTDD','CTK','CTL','CTLT','CTR','CTRA','CTS','CTST','CTT','CTV','CTVA','CTY','CTZ','CUB','CUB-C','CUB-D','CUB-E','CUB-F','CUBB','CUBE','CUBI','CUK','CULP','CURO','CUZ','CVA','CVE','CVEO','CVI','CVIA','CVNA','CVS','CVX','CW','CWE.A','CWEN','CWH','CWK','CWT','CX','CXE','CXH','CXO','CXP','CXW','CYD','CYH','CZZ','D','DAC','DAL','DAN','DAO','DAR','DAVA','DB','DBD','DBI','DBL','DCF','DCI','DCO','DCP','DCP-B','DCP-C','DCUE','DD','DDD','DDF','DDS','DDT','DE','DEA','DECK','DEI','DELL','DEO','DESP','DEX','DFIN','DFN.U','DFNS','DFP','DFS','DG','DGX','DHF','DHI','DHR','DHR-A','DHT','DHX','DIAX','DIN','DIS','DK','DKL','DKS','DL','DLB','DLN-A','DLN-B','DLNG','DLPH','DLR','DLR-C','DLR-G','DLR-I','DLR-J','DLR-K','DLR-L','DLX','DLY','DMB','DMO','DMY.U','DNI','DNK','DNOW','DNP','DNR','DO','DOC','DOOR','DOV','DOW','DPG','DPZ','DQ','DRD','DRE','DRH','DRI','DRQ','DRUA','DS','DS-B','DS-C','DS-D','DSE','DSL','DSM','DSSI','DSU','DSX','DSX-B','DT','DTE','DTF','DTJ','DTL.P','DTP','DTQ','DTW','DTY','DUC','DUK','DUK-A','DUKB','DUKH','DVA','DVD','DVN','DX','DX-A','DX-B','DX-C','DXB','DXC','DY','E','EAB','EAE','EAF','EAI','EARN','EAT','EB','EBF','EBR','EBR.B','EBS','EC','ECC','ECCB','ECCX','ECCY','ECL','ECOM','ECT','ED','EDD','EDF','EDI','EDN','EDU','EE','EEA','EEX','EFC','EFC-A','EFF','EFL','EFR','EFT','EFX','EGF','EGHT','EGIF','EGO','EGP','EGY','EHC','EHI','EHT','EIC','EIG','EIX','EL','ELAN','ELAT','ELC','ELF','ELJ','ELP','ELS','ELU','ELVT','ELY','EMD','EME','EMF','EMN','EMO','EMP','EMR','ENB','ENBA','ENBL','ENIA','ENIC','ENJ','ENLC','ENO','ENR','ENR-A','ENS','ENV','ENVA','ENZ','EOD','EOG','EOI','EOS','EOT','EP-C','EPAC','EPAM','EPC','EPD','EPR','EPR-C','EPR-E','EPR-G','EPRT','EQC','EQC-D','EQH','EQH-A','EQM','EQNR','EQR','EQS','EQT','ERA','ERF','ERJ','EROS','ES','ESE','ESI','ESNT','ESRT','ESS','ESTC','ESTE','ET','ETB','ETG','ETH','ETI.P','ETJ','ETM','ETN','ETO','ETP-C','ETP-D','ETP-E','ETR','ETRN','ETV','ETW','ETX','ETY','EURN','EV','EVA','EVC','EVF','EVG','EVH','EVN','EVR','EVRG','EVRI','EVT','EVTC','EW','EXD','EXG','EXK','EXP','EXPR','EXR','EXTN','EZT','F','F-B','F-C','FAF','FAM','FBC','FBHS','FBK','FBM','FBP','FC','FCAU','FCF','FCN','FCPT','FCT','FCX','FDEU','FDP','FDS','FDX','FE','FEA.U','FEDU','FEI','FENG','FEO','FET','FF','FFA','FFC','FFG','FG','FG.W','FGB','FHI','FHN','FHN-A','FI','FICO','FIF','FINS','FINV','FIS','FIT','FIV','FIX','FL','FLC','FLNG','FLO','FLOW','FLR','FLS','FLT','FLY','FMC','FMN','FMO','FMS','FMX','FMY','FN','FNB','FNB-E','FND','FNF','FNV','FOE','FOF','FOR','FPA.U','FPA.W','FPAC','FPF','FPH','FPI','FPI-B','FPL','FR','FRA','FRC','FRC-F','FRC-G','FRC-H','FRC-I','FRC-J','FRO','FRT','FRT-C','FSB','FSD','FSK','FSLY','FSM','FSS','FT','FTA-A','FTA-B','FTAI','FTCH','FTI','FTK','FTS','FTSI','FTV','FTV-A','FUL','FUN','FVRR','G','GAB','GAB-G','GAB-H','GAB-J','GAB-K','GAM','GAM-B','GATX','GBAB','GBL','GBX','GCAP','GCI','GCO','GCP','GCV','GD','GDDY','GDL','GDL-C','GDO','GDOT','GDV','GDV-A','GDV-G','GDV-H','GE','GEF','GEF.B','GEL','GEN','GEO','GER','GES','GF','GFF','GFI','GFL','GFLU','GFY','GGB','GGG','GGM','GGT','GGT-E','GGT-G','GGZ','GGZ-A','GHC','GHG','GHL','GHM','GHY','GIB','GIL','GIM','GIS','GIX','GIX.P','GIX.U','GIX.W','GJH','GJO','GJP','GJR','GJS','GJT','GKOS','GL','GL-C','GLE.U','GLE.W','GLEO','GLO-A','GLO-B','GLO-C','GLO-G','GLOB','GLOG','GLOP','GLP','GLP-A','GLT','GLW','GM','GME','GMED','GMR-A','GMRE','GMS','GMTA','GMZ','GNC','GNE','GNE-A','GNK','GNL','GNL-A','GNL-B','GNRC','GNT','GNT-A','GNW','GOF','GOL','GOLD','GOLF','GOOS','GPC','GPI','GPJA','GPK','GPM','GPMT','GPN','GPRK','GPS','GPX','GRA','GRA.U','GRA.W','GRAF','GRAM','GRC','GRP.U','GRUB','GRX','GRX-A','GRX-B','GS','GS-A','GS-C','GS-D','GS-J','GS-K','GS-N','GSBD','GSH','GSK','GSL','GSL-B','GSLD','GSX','GTES','GTN','GTN.A','GTS','GTT','GTX','GTY','GUT','GUT-A','GUT-C','GVA','GWB','GWRE','GWW','GYC','H','HAE','HAL','HASI','HBB','HBI','HBM','HCA','HCC','HCFT','HCHC','HCI','HCR','HCXY','HCXZ','HD','HDB','HE','HEI','HEI.A','HEP','HEQ','HES','HESM','HEXO','HFC','HFR-A','HFRO','HGH','HGLB','HGV','HHC','HHS','HI','HIE','HIG','HIG-G','HII','HIL','HIO','HIW','HIX','HJV','HKIB','HL','HL-B','HLF','HLI','HLT','HLX','HMC','HMI','HML-A','HMLP','HMN','HMY','HNGR','HNI','HNP','HOG','HOME','HON','HOV','HP','HPE','HPF','HPI','HPP','HPQ','HPR','HPS','HQH','HQL','HR','HRB','HRC','HRI','HRL','HRTG','HSB-A','HSBC','HSC','HST','HSY','HT','HT-C','HT-D','HT-E','HTA','HTD','HTFA','HTGC','HTH','HTY','HTZ','HUBB','HUBS','HUD','HUM','HUN','HUYA','HVT','HVT.A','HWM','HXL','HY','HYB','HYI','HYT','HZN','HZO','I','IAA','IAE','IAG','IBA','IBM','IBN','IBP','ICD','ICE','ICL','IDA','IDE','IDT','IEX','IFF','IFFT','IFN','IFS','IGA','IGD','IGI','IGR','IGT','IHC','IHD','IHG','IHIT','IHTA','IID','IIF','IIM','IIP-A','IIPR','IMAX','INFO','INFY','ING','INGR','INN','INN-D','INN-E','INS-A','INSI','INSP','INST','INSW','INT','INVH','IO','IP','IPG','IPHI','IPI','IPV','IPV.U','IPV.W','IQI','IQV','IR','IRE-C','IRET','IRL','IRM','IRR','IRS','IRT','ISD','ISG','IT','ITCB','ITGR','ITT','ITUB','ITW','IVC','IVH','IVR','IVR-A','IVR-B','IVR-C','IVZ','IX','J','JAX','JBGS','JBK','JBL','JBN','JBR','JBT','JCA-B','JCAP','JCE','JCI','JCO','JCP','JDD','JE','JE-A','JEF','JELD','JEMD','JEQ','JFR','JGH','JHAA','JHB','JHG','JHI','JHS','JHX','JHY','JIH','JIH.U','JIH.W','JILL','JKS','JLL','JLS','JMEI','JMF','JMIA','JMLP','JMM','JMP','JNJ','JNPR','JOE','JOF','JP','JPC','JPI','JPM','JPM-C','JPM-D','JPM-G','JPM-H','JPM-J','JPS','JPT','JQC','JRI','JRO','JRS','JSD','JT','JTA','JTD','JW.A','JW.B','JWN','K','KAI','KAMN','KAR','KB','KBH','KBR','KDMN','KDP','KEM','KEN','KEP','KEX','KEY','KEY-I','KEY-J','KEY-K','KEYS','KF','KFS','KFY','KGC','KIM','KIM-L','KIM-M','KIO','KKR','KKR-A','KKR-B','KL','KMB','KMF','KMI','KMPR','KMT','KMX','KN','KNL','KNOP','KNX','KO','KODK','KOF','KOP','KOS','KR','KRA','KRC','KREF','KRG','KRO','KRP','KSM','KSS','KSU','KSU.P','KT','KTB','KTF','KTH','KTN','KTP','KW','KWR','KYN','L','LAC','LAD','LADR','LAIX','LAZ','LB','LBRT','LC','LCI','LCII','LDL','LDOS','LDP','LEA','LEAF','LEE','LEG','LEJU','LEN','LEN.B','LEO','LEVI','LFC','LGC','LGC.U','LGC.W','LGF.A','LGF.B','LGI','LH','LHC','LHC.U','LHC.W','LHX','LII','LIN','LINX','LITB','LL','LLY','LM','LMHA','LMHB','LMT','LN','LNC','LND','LNN','LOMA','LOW','LPG','LPI','LPL','LPX','LRN','LSI','LTC','LTHM','LTM','LUB','LUV','LVS','LW','LXFR','LXP','LXP-C','LXU','LYB','LYG','LYV','LZB','M','MA','MAA','MAA-I','MAC','MAIN','MAN','MANU','MAS','MATX','MAV','MAXR','MBI','MBT','MC','MCA','MCB','MCC','MCD','MCI','MCK','MCN','MCO','MCR','MCS','MCV','MCX','MCY','MD','MDC','MDLA','MDLQ','MDLX','MDLY','MDP','MDT','MDU','MEC','MED','MEI','MEN','MER-K','MET','MET-A','MET-E','MET-F','MFA','MFA-B','MFA-C','MFA.U','MFA.W','MFAC','MFC','MFD','MFG','MFGP','MFL','MFM','MFO','MFT','MFV','MG','MGA','MGF','MGM','MGP','MGR','MGU','MGY','MH-A','MH-C','MH-D','MHD','MHE','MHF','MHI','MHK','MHLA','MHN','MHNC','MHO','MIC','MIE','MIN','MIT-A','MIT-B','MIT-C','MITT','MIXT','MIY','MKC','MKC.V','MKL','MLI','MLM','MLP','MLR','MMC','MMD','MMI','MMM','MMP','MMS','MMT','MMU','MN','MNE','MNK','MNP','MNR','MNR-C','MNRL','MO','MOD','MODN','MOG.A','MOG.B','MOGU','MOH','MOS','MOV','MPA','MPC','MPLX','MPV','MPW','MPX','MQT','MQY','MR','MRC','MRK','MRO','MS','MS-A','MS-E','MS-F','MS-I','MS-K','MS-L','MSA','MSB','MSC','MSCI','MSD','MSG','MSGN','MSI','MSM','MT','MTB','MTD','MTDR','MTG','MTH','MTL','MTL.P','MTN','MTOR','MTR','MTRN','MTT','MTW','MTX','MTZ','MUA','MUC','MUE','MUFG','MUH','MUI','MUJ','MUR','MUS','MUSA','MUX','MVC','MVCD','MVF','MVO','MVT','MWA','MX','MXE','MXF','MXL','MYC','MYD','MYE','MYF','MYI','MYJ','MYN','MYOV','MZA','NAC','NAD','NAN','NAT','NAV','NAV-D','NAZ','NBB','NBHC','NBR','NBR-A','NC','NCA','NCB','NCLH','NCR','NCV','NCV-A','NCZ','NCZ-A','NDP','NE','NEA','NEE','NEE-I','NEE-J','NEE-K','NEE-N','NEE-O','NEE-P','NEM','NEP','NET','NEU','NEV','NEW','NEWR','NEX','NEXA','NFG','NFH','NFH.W','NFJ','NGG','NGL','NGL-A','NGL-B','NGL-C','NGS','NGVC','NGVT','NHA','NHF','NHI','NI','NI-B','NID','NIE','NIM','NINE','NIO','NIQ','NJR','NJV','NKE','NKG','NKX','NL','NLS','NLSN','NLY','NLY-D','NLY-F','NLY-G','NLY-I','NM','NM-G','NM-H','NMCO','NMFC','NMFX','NMI','NMK-B','NMK-C','NMM','NMR','NMS','NMT','NMY','NMZ','NNA','NNI','NNN','NNN-F','NNY','NOA','NOAH','NOC','NOK','NOM','NOMD','NOV','NOVA','NOW','NP','NPK','NPN','NPO','NPTN','NPV','NQP','NR','NREF','NRG','NRGX','NRK','NRP','NRT','NRUC','NRZ','NRZ-A','NRZ-B','NRZ-C','NS','NS-A','NS-B','NS-C','NSA','NSA-A','NSC','NSC.W','NSCO','NSL','NSP','NSS','NTB','NTCO','NTEST.I','NTEST.J','NTEST.K','NTG','NTP','NTR','NTZ','NUE','NUM','NUO','NUS','NUV','NUW','NVG','NVGS','NVO','NVR','NVRO','NVS','NVST','NVT','NVTA','NWE','NWHM','NWN','NX','NXC','NXJ','NXN','NXP','NXQ','NXR','NXRT','NYC-A','NYC-U','NYCB','NYT','NYV','NZF','O','OAC','OAC.U','OAC.W','OAK-A','OAK-B','OBE','OC','OCFT','OCN','ODC','OEC','OFC','OFG','OFG-A','OFG-B','OFG-D','OGE','OGS','OHI','OI','OIA','OIB.C','OII','OIS','OKE','OLN','OLP','OMC','OMF','OMI','OMN','ONDK','ONE','ONTO','OOMA','OPP','OPY','OR','ORA','ORAN','ORC','ORCC','ORCL','ORI','ORN','OSB','OSG','OSK','OTI.P','OTIS','OUT','OVV','OXM','OXY','PAA','PAC','PAC.W','PACD','PACK','PAG','PAGP','PAGS','PAI','PAM','PANW','PAR','PARR','PAYC','PB','PBA','PBB','PBC','PBF','PBFX','PBH','PBI','PBI-B','PBR','PBR.A','PBT','PBY','PCF','PCG','PCI','PCK','PCM','PCN','PCQ','PD','PDI','PDM','PDS','PDT','PE','PEAK','PEB','PEB-C','PEB-D','PEB-E','PEB-F','PEG','PEI','PEI-B','PEI-C','PEI-D','PEN','PEO','PER','PFD','PFE','PFGC','PFH','PFL','PFN','PFO','PFS','PFSI','PG','PGP','PGR','PGRE','PGTI','PGZ','PH','PHD','PHG','PHI','PHK','PHM','PHR','PHT','PHX','PIC','PIC.U','PIC.W','PII','PIM','PINE','PING','PINS','PIPR','PIY','PJH','PJT','PK','PKE','PKG','PKI','PKO','PKX','PLAN','PLD','PLNT','PLOW','PLT','PLYM','PM','PMF','PML','PMM','PMO','PMT','PMT-A','PMT-B','PMX','PNC','PNC-P','PNC-Q','PNF','PNI','PNM','PNR','PNW','POL','POR','POST','PPG','PPL','PPR','PPT','PPX','PQG','PRA','PRE-F','PRE-G','PRE-H','PRE-I','PRGO','PRH','PRI','PRI-A','PRI-B','PRI-C','PRI-D','PRI-E','PRI-F','PRLB','PRMW','PRO','PROS','PRS','PRSP','PRT','PRTY','PRU','PSA','PSA-B','PSA-C','PSA-D','PSA-E','PSA-F','PSA-G','PSA-H','PSA-I','PSA-J','PSA-K','PSA-V','PSA-W','PSA-X','PSB','PSB-W','PSB-X','PSB-Y','PSB-Z','PSF','PSN','PSO','PSTG','PSTL','PSV','PSX','PSXP','PTR','PTY','PUK','PUK-A','PUK.P','PUMP','PVG','PVH','PVL','PWR','PXD','PYN','PYS','PYT','PYX','PZC','PZN','QD','QEP','QES','QGEN','QHC','QSR','QTS','QTS-A','QTS-B','QTWO','QUAD','QUOT','QVCC','QVCD','R','RA','RACE','RAD','RAMP','RBA','RBC','RBS','RC','RCA','RCB','RCI','RCL','RCP','RCS','RCUS','RDN','RDS.A','RDS.B','RDY','RE','RELX','RENN','RES','RESI','REV','REVG','REX','REX-A','REX-B','REX-C','REXR','REZI','RF','RF-A','RF-B','RF-C','RFI','RFL','RFM','RFP','RGA','RGR','RGS','RGT','RH','RHI','RHP','RIG','RIO','RIV','RJF','RL','RLGY','RLH','RLI','RLJ','RLJ-A','RM','RMAX','RMD','RMED','RMG','RMG.U','RMG.W','RMI','RMM','RMP.P','RMT','RNG','RNGR','RNP','RNR','RNR-C','RNR-E','RNR-F','ROG','ROK','ROL','ROP','ROYT','RPAI','RPL.U','RPL.W','RPLA','RPM','RPT','RPT-D','RQI','RRC','RRD','RRTS','RS','RSF','RSG','RST','RTN','RTW','RTX','RUBI','RVI','RVLV','RVT','RWT','RXN','RY','RY-T','RYAM','RYB','RYCE','RYI','RYN','RZA','RZB','S','SA','SAF','SAFE','SAH','SAIC','SAIL','SALT','SAM','SAN','SAN-B','SAND','SAP','SAR','SAVE','SB','SB-C','SB-D','SBE','SBE.U','SBE.W','SBH','SBI','SBNA','SBOW','SBR','SBS','SBSW','SC','SCA','SCCO','SCD','SCE-G','SCE-H','SCE-J','SCE-K','SCE-L','SCH-C','SCH-D','SCHW','SCI','SCL','SCM','SCP.U','SCP.W','SCPE','SCS','SCU','SCV.U','SCV.W','SCVX','SCX','SD','SDRL','SE','SEAS','SEE','SEM','SERV','SF','SF-A','SF-B','SFB','SFE','SFL','SFT.U','SFT.W','SFTW','SFUN','SGU','SHAK','SHG','SHI','SHL.U','SHL.W','SHLL','SHLX','SHO','SHO-E','SHO-F','SHOP','SHW','SI','SID','SIG','SIT-A','SIT-K','SITC','SITE','SIX','SJI','SJIJ','SJIU','SJM','SJR','SJT','SJW','SKM','SKT','SKX','SKY','SLB','SLCA','SLF','SLG','SLG-I','SM','SMAR','SMFG','SMG','SMHI','SMLP','SMM','SMP','SNA','SNAP','SNDR','SNE','SNN','SNP','SNR','SNV','SNV-D','SNV-E','SNX','SO','SOGO','SOI','SOJA','SOJB','SOJC','SOJD','SOL','SOLN','SON','SOR','SPA.U','SPA.W','SPAQ','SPB','SPC.U','SPC.W','SPCE','SPE','SPE-B','SPG','SPG-J','SPGI','SPH','SPL-A','SPLP','SPN','SPOT','SPR','SPXC','SPXX','SQ','SQM','SQNS','SR','SR-A','SRC','SRC-A','SRE','SRE-A','SRE-B','SREA','SRF','SRG','SRG-A','SRI','SRL','SRLP','SRT','SRV','SSD','SSI','SSL','SSTK','ST','STA-C','STA-D','STA-G','STA-I','STAG','STAR','STC','STE','STG','STK','STL','STL-A','STM','STN','STNG','STON','STOR','STT','STT-C','STT-D','STT-G','STWD','STZ','STZ.B','SU','SUI','SUM','SUN','SUP','SUPV','SUZ','SWCH','SWI','SWK','SWM','SWN','SWP','SWT','SWX','SWZ','SXC','SXI','SXT','SYF','SYF-A','SYK','SYX','SYY','SZC','T','T-A','T-C','TAC','TAK','TAL','TALO','TAP','TAP.A','TARO','TBB','TBC','TBI','TCI','TCO','TCO-J','TCO-K','TCP','TCRW','TCRZ','TCS','TD','TDA','TDC','TDE','TDF','TDG','TDI','TDJ','TDOC','TDS','TDW','TDW.A','TDW.B','TDY','TEAF','TECK','TEF','TEI','TEL','TEN','TEO','TEVA','TEX','TFC','TFC-F','TFC-G','TFC-H','TFC-I','TFII','TFX','TG','TGE','TGH','TGI','TGNA','TGP','TGP-A','TGP-B','TGS','TGT','THC','THG','THGA','THO','THQ','THR','THS','THW','TIF','TISI','TJX','TK','TKC','TKR','TLI','TLK','TLRA','TLRD','TLYS','TM','TME','TMHC','TMO','TMST','TNC','TNET','TNK','TNP','TNP-C','TNP-D','TNP-E','TNP-F','TOL','TOO-A','TOO-B','TOO-E','TOT','TPB','TPC','TPH','TPL','TPR','TPRE','TPVG','TPVY','TPX','TPZ','TR','TRC','TREC','TREX','TRGP','TRI','TRN','TRN.U','TRN.W','TRNE','TRNO','TROX','TRP','TRQ','TRT-A','TRT-B','TRT-C','TRT-D','TRTN','TRTX','TRU','TRV','TRWH','TS','TSE','TSI','TSLF','TSLX','TSM','TSN','TSQ','TSU','TT','TTC','TTI','TTM','TTP','TU','TUFN','TUP','TV','TVC','TVE','TWI','TWLO','TWN','TWO','TWO-A','TWO-B','TWO-C','TWO-D','TWO-E','TWTR','TX','TXT','TY','TY.P','TYG','TYL','UA','UAA','UAN','UBA','UBER','UBP','UBP-H','UBP-K','UBS','UDR','UE','UFI','UFS','UGI','UGP','UHS','UHT','UI','UIS','UL','UMC','UMH','UMH-B','UMH-C','UMH-D','UN','UNF','UNFI','UNH','UNM','UNMA','UNP','UNT','UNVR','UPS','URI','USA','USAC','USB','USB-A','USB-H','USB-M','USB-O','USB-P','USDP','USFD','USM','USNA','USPH','USX','UTF','UTI','UTL','UTX','UTX.P','UVE','UVV','UZA','UZB','UZC','V','VAC','VAL','VALE','VAM','VAPO','VAR','VBF','VCIF','VCRA','VCV','VEC','VEDL','VEEV','VEL','VER','VER-F','VER.U','VET','VFC','VGI','VGM','VGR','VHI','VICI','VIPS','VIST','VIV','VJET','VKQ','VLO','VLRS','VLT','VMC','VMI','VMO','VMW','VNCE','VNE','VNO','VNO-K','VNO-L','VNO-M','VNTR','VOC','VOY-B','VOYA','VPG','VPV','VRS','VRT','VRT.W','VRTV','VSH','VSLR','VST','VST.A','VSTO','VTA','VTN','VTR','VVI','VVN.W','VVNT','VVR','VVV','VZ','W','WAAS','WAB','WAL','WALA','WAT','WBAI','WBC','WBK','WBS','WBS-F','WBT','WCC','WCN','WD','WDR','WEA','WEC','WEI','WELL','WES','WEX','WF','WFC','WFC-L','WFC-N','WFC-O','WFC-P','WFC-Q','WFC-R','WFC-T','WFC-V','WFC-W','WFC-X','WFC-Y','WFC-Z','WGO','WH','WHD','WHG','WHR','WIA','WIT','WIW','WK','WLK','WLKP','WLL','WM','WMB','WMC','WMK','WMS','WMT','WNC','WNS','WOR','WORK','WOW','WPC','WPG','WPG-H','WPG-I','WPM','WPP','WPX','WRB','WRB-B','WRB-C','WRB-D','WRB-E','WRB-F','WRE','WRI','WRK','WSM','WSO','WSO.B','WSR','WST','WTI','WTM','WTRG','WTRU','WTS','WTTR','WU','WUBA','WWE','WWW','WY','WYND','X','XAN','XAN-C','XEC','XFLT','XHR','XIN','XOM','XPO','XRF','XRX','XYF','XYL','Y','YELP','YETI','YEXT','YPF','YRD','YUM','YUMC','ZBH','ZEN','ZNH','ZTO','ZTR','ZTS','ZUO','ZYME']

NASDAQ = ['AACG','AAL','AAME','AAOI','AAON','AAPL','AAWW','AAXJ','AAXN','ABCB','ABEO','ABIO','ABMD','ABTX','ABUS','ACAD','ACAM','ACAMU','ACAMW','ACBI','ACER','ACGL','ACGLO','ACGLP','ACHC','ACHV','ACIA','ACIU','ACIW','ACLS','ACMR','ACNB','ACOR','ACRS','ACRX','ACST','ACT','ACTG','ACTT','ACTTU','ACTTW','ACWI','ACWX','ADAP','ADBE','ADES','ADI','ADIL','ADILW','ADMA','ADMP','ADMS','ADP','ADPT','ADRE','ADRO','ADSK','ADTN','ADUS','ADVM','ADXN','ADXS','AEGN','AEHR','AEIS','AEMD','AERI','AESE','AEY','AEYE','AEZS','AFH','AFIN','AFINP','AFMD','AFYA','AGBA','AGBAR','AGBAW','AGEN','AGFS','AGFSW','AGIO','AGLE','AGMH','AGNC','AGNCM','AGNCN','AGNCO','AGNCP','AGND','AGRX','AGTC','AGYS','AGZD','AHCO','AHPI','AIA','AIH','AIHS','AIKI','AIMC','AIMT','AINV','AIQ','AIRG','AIRR','AIRT','AIRTP','AIRTW','AKAM','AKBA','AKCA','AKER','AKRO','AKRX','AKTS','AKTX','ALAC','ALACR','ALACU','ALACW','ALBO','ALCO','ALDX','ALEC','ALGN','ALGR','ALGRR','ALGRU','ALGRW','ALGT','ALIM','ALJJ','ALKS','ALLK','ALLO','ALLT','ALNA','ALNY','ALOT','ALPN','ALRM','ALRN','ALRS','ALSK','ALT','ALTM','ALTR','ALTY','ALXN','ALYA','AMAG','AMAL','AMAT','AMBA','AMCA','AMCI','AMCIU','AMCIW','AMCX','AMD','AMED','AMEH','AMGN','AMHC','AMHCU','AMHCW','AMKR','AMNB','AMOT','AMPH','AMRB','AMRH','AMRHW','AMRK','AMRN','AMRS','AMSC','AMSF','AMSWA','AMTB','AMTBB','AMTD','AMTX','AMWD','AMZN','ANAB','ANAT','ANCN','ANDA','ANDAR','ANDAU','ANDAW','ANDE','ANGI','ANGL','ANGO','ANIK','ANIP','ANIX','ANPC','ANSS','ANTE','ANY','AOBC','AOSL','APDN','APEI','APEN','APEX','APLS','APLT','APM','APOG','APOP','APOPW','APPF','APPN','APPS','APRE','APTO','APTX','APVO','APWC','APXT','APXTU','APXTW','APYX','AQB','AQMS','AQST','ARAV','ARAY','ARCB','ARCC','ARCE','ARCT','ARDS','ARDX','AREC','ARGX','ARKR','ARLP','ARNA','AROW','ARPO','ARQT','ARTL','ARTLW','ARTNA','ARTW','ARVN','ARWR','ARYA','ARYAU','ARYAW','ASET','ASFI','ASLN','ASMB','ASML','ASNA','ASND','ASPS','ASPU','ASRT','ASRV','ASRVP','ASTC','ASTE','ASUR','ASYS','ATAX','ATCX','ATCXW','ATEC','ATEX','ATHE','ATHX','ATIF','ATLC','ATLO','ATNI','ATNX','ATOM','ATOS','ATRA','ATRC','ATRI','ATRO','ATRS','ATSG','ATVI','ATXI','AUB','AUBN','AUDC','AUPH','AUTL','AUTO','AVAV','AVCO','AVCT','AVCTW','AVDL','AVEO','AVGO','AVGOP','AVGR','AVID','AVNW','AVRO','AVT','AVXL','AWRE','AXAS','AXDX','AXGN','AXGT','AXLA','AXNX','AXSM','AXTI','AY','AYTU','AZPN','AZRX','BAND','BANF','BANFP','BANR','BANX','BASI','BATRA','BATRK','BBBY','BBCP','BBGI','BBH','BBI','BBIO','BBQ','BBSI','BCBP','BCDA','BCDAW','BCEL','BCLI','BCML','BCOM','BCOR','BCOV','BCOW','BCPC','BCRX','BCTF','BCYC','BDGE','BDSI','BDTX','BEAM','BEAT','BECN','BELFA','BELFB','BFC','BFIN','BFIT','BFRA','BFST','BFYT','BGCP','BGFV','BGNE','BGRN','BHAT','BHF','BHFAL','BHFAP','BHTG','BIB','BICK','BIDU','BIIB','BILI','BIMI','BIOC','BIOL','BIS','BJK','BJRI','BKCC','BKEP','BKEPP','BKNG','BKSC','BKYI','BL','BLBD','BLCM','BLCN','BLDP','BLDR','BLFS','BLIN','BLKB','BLMN','BLNK','BLNKW','BLPH','BLRX','BLU','BLUE','BMCH','BMLP','BMRA','BMRC','BMRN','BMTC','BND','BNDW','BNDX','BNFT','BNGO','BNGOW','BNSO','BNTC','BNTCW','BNTX','BOCH','BOKF','BOKFL','BOMN','BOOM','BOSC','BOTJ','BOTZ','BOXL','BPFH','BPMC','BPOP','BPOPM','BPOPN','BPRN','BPTH','BPY','BPYPN','BPYPO','BPYPP','BPYU','BPYUP','BREW','BRID','BRKL','BRKR','BRKS','BROG','BROGW','BRP','BRPA','BRPAR','BRPAW','BRQS','BRY','BSAE','BSBE','BSBK','BSCE','BSCK','BSCL','BSCM','BSCN','BSCO','BSCP','BSCQ','BSCR','BSCS','BSCT','BSDE','BSET','BSGM','BSJK','BSJL','BSJM','BSJN','BSJO','BSJP','BSJQ','BSJR','BSML','BSMM','BSMN','BSMO','BSMP','BSMQ','BSMR','BSMS','BSMT','BSQR','BSRR','BSTC','BSVN','BTAI','BTEC','BUG','BURG','BUSE','BVSN','BVXV','BVXVW','BWAY','BWB','BWEN','BWFG','BWMX','BXRX','BYFC','BYND','BYSI','BZUN','CAAS','CABA','CAC','CACC','CACG','CAKE','CALA','CALB','CALM','CAMP','CAMT','CAN','CAPR','CAR','CARA','CARE','CARG','CARO','CARV','CARZ','CASA','CASH','CASI','CASS','CASY','CATB','CATC','CATH','CATM','CATS','CATY','CBAN','CBAT','CBAY','CBFV','CBIO','CBLI','CBMB','CBMG','CBNK','CBPO','CBRL','CBSH','CBSHP','CBTX','CCAP','CCB','CCBG','CCCL','CCD','CCLP','CCMP','CCNE','CCOI','CCRC','CCRN','CCXI','CDC','CDEV','CDK','CDL','CDLX','CDMO','CDMOP','CDNA','CDNS','CDTX','CDW','CDXC','CDXS','CDZI','CECE','CELC','CELH','CEMI','CENT','CENTA','CENX','CERC','CERN','CERS','CETV','CETX','CETXP','CETXW','CEVA','CEY','CEZ','CFA','CFB','CFBI','CFBK','CFFA','CFFAU','CFFAW','CFFI','CFFN','CFMS','CFO','CFRX','CG','CGBD','CGEN','CGIX','CGNX','CGO','CHCI','CHCO','CHDN','CHEF','CHEK','CHEKZ','CHFS','CHI','CHKP','CHMA','CHMG','CHNA','CHNG','CHNGU','CHNR','CHPM','CHPMU','CHPMW','CHRS','CHRW','CHSCL','CHSCM','CHSCN','CHSCO','CHSCP','CHTR','CHUY','CHW','CHY','CIBR','CID','CIDM','CIFS','CIGI','CIH','CIIC','CIICU','CIICW','CIL','CINF','CIVB','CIZ','CIZN','CJJD','CKPT','CLAR','CLBK','CLBS','CLCT','CLDB','CLDX','CLFD','CLGN','CLIR','CLLS','CLMT','CLNE','CLOU','CLPS','CLPT','CLRB','CLRBZ','CLRG','CLRO','CLSD','CLSK','CLSN','CLUB','CLVS','CLWT','CLXT','CMBM','CMCO','CMCSA','CMCT','CME','CMFNL','CMLS','CMPR','CMRX','CMTL','CNAT','CNBKA','CNCE','CNCR','CNDT','CNET','CNFR','CNFRL','CNNB','CNOB','CNSL','CNSP','CNST','CNTG','CNTY','CNXN','COCP','CODA','CODX','COFS','COHR','COHU','COKE','COLB','COLL','COLM','COMM','COMT','CONE','CONN','COOP','CORE','CORT','CORV','COST','COUP','COWN','COWNL','COWNZ','CPAA','CPAAU','CPAAW','CPAH','CPHC','CPIX','CPLP','CPRT','CPRX','CPSH','CPSI','CPSS','CPST','CPTA','CPTAG','CPTAL','CPZ','CRAI','CRBP','CREE','CREG','CRESY','CREX','CREXW','CRIS','CRMT','CRNC','CRNT','CRNX','CRON','CROX','CRSA','CRSAU','CRSAW','CRSP','CRTO','CRTX','CRUS','CRVL','CRVS','CRWD','CRWS','CSA','CSB','CSBR','CSCO','CSF','CSFL','CSGP','CSGS','CSII','CSIQ','CSML','CSOD','CSPI','CSQ','CSSE','CSSEP','CSTE','CSTL','CSTR','CSWC','CSWCL','CSWI','CSX','CTAS','CTBI','CTG','CTHR','CTIB','CTIC','CTMX','CTRC','CTRE','CTRM','CTRN','CTSH','CTSO','CTXR','CTXRW','CTXS','CUBA','CUE','CUI','CUTR','CVBF','CVCO','CVCY','CVET','CVGI','CVGW','CVLT','CVLY','CVTI','CVV','CWBC','CWBR','CWCO','CWST','CXDC','CXSE','CY','CYAD','CYAN','CYBE','CYBR','CYCC','CYCCP','CYCN','CYOU','CYRN','CYRX','CYRXW','CYTK','CZNC','CZR','CZWI','DAIO','DAKT','DALI','DARE','DAX','DBVT','DBX','DCAR','DCIX','DCOM','DCOMP','DCPH','DDIV','DDOG','DEAC','DEACU','DEACW','DENN','DFFN','DFNL','DFPHU','DGICA','DGICB','DGII','DGLD','DGLY','DGRE','DGRS','DGRW','DHC','DHCNI','DHCNL','DHIL','DINT','DIOD','DISCA','DISCB','DISCK','DISH','DJCO','DLHC','DLPN','DLPNW','DLTH','DLTR','DMAC','DMLP','DMPI','DMRC','DMTK','DNJR','DNKN','DNLI','DOCU','DOGZ','DOMO','DOOO','DORM','DOX','DOYU','DPHC','DPHCU','DPHCW','DRAD','DRADP','DRIO','DRIOW','DRIV','DRNA','DRRX','DRTT','DSGX','DSKE','DSKEW','DSLV','DSPG','DSWL','DTEA','DTIL','DTSS','DUO','DUOT','DUSA','DVAX','DVLU','DVOL','DVY','DWAS','DWAT','DWAW','DWCR','DWEQ','DWFI','DWLD','DWMC','DWPP','DWSH','DWSN','DWUS','DXCM','DXGE','DXJS','DXLG','DXPE','DXYN','DYAI','DYNT','DZSI','EA','EARS','EAST','EBAY','EBAYL','EBIX','EBIZ','EBMT','EBSB','EBTC','ECHO','ECOL','ECOLW','ECOR','ECOW','ECPG','EDAP','EDIT','EDNT','EDRY','EDSA','EDTX','EDTXU','EDTXW','EDUC','EEFT','EEMA','EFAS','EFOI','EFSC','EGAN','EGBN','EGLE','EGOV','EGRX','EH','EHTH','EIDX','EIGI','EIGR','EKSO','ELGX','ELOX','ELSE','ELTK','EMB','EMCB','EMCF','EMCG','EMIF','EMKR','EML','EMMS','EMXC','ENDP','ENG','ENLV','ENOB','ENPH','ENSG','ENT','ENTA','ENTG','ENTX','ENTXW','ENZL','EOLS','EPAY','EPIX','EPSN','EPZM','EQ','EQBK','EQIX','EQRR','ERI','ERIC','ERIE','ERII','ERYP','ESBK','ESCA','ESEA','ESGD','ESGE','ESGR','ESGRO','ESGRP','ESGU','ESLT','ESPO','ESPR','ESQ','ESSA','ESSC','ESSCR','ESSCU','ESSCW','ESTA','ESXB','ETFC','ETNB','ETON','ETSY','ETTX','EUFN','EVBG','EVER','EVFM','EVGN','EVK','EVLO','EVOK','EVOL','EVOP','EVSI','EVSIW','EWBC','EWJE','EWJV','EWZS','EXAS','EXC','EXEL','EXFO','EXLS','EXPC','EXPCU','EXPCW','EXPD','EXPE','EXPI','EXPO','EXTR','EYE','EYEG','EYEGW','EYEN','EYES','EYESW','EYPT','EZPW','FAAR','FAB','FAD','FALN','FAMI','FANG','FANH','FARM','FARO','FAST','FAT','FATE','FB','FBIO','FBIOP','FBIZ','FBMS','FBNC','FBSS','FBZ','FCA','FCAL','FCAN','FCAP','FCBC','FCBP','FCCO','FCCY','FCEF','FCEL','FCFS','FCNCA','FCNCP','FCVT','FDBC','FDEF','FDIV','FDNI','FDT','FDTS','FDUS','FDUSG','FDUSL','FDUSZ','FEIM','FELE','FEM','FEMB','FEMS','FENC','FEP','FEUZ','FEX','FEYE','FFBC','FFBW','FFHL','FFIC','FFIN','FFIV','FFNW','FFWM','FGBI','FGEN','FGM','FHB','FHK','FIBK','FID','FINX','FISI','FISV','FITB','FITBI','FITBO','FITBP','FIVE','FIVN','FIXD','FIXX','FIZZ','FJP','FKO','FKU','FLDM','FLEX','FLGT','FLIC','FLIR','FLL','FLMN','FLMNW','FLN','FLNT','FLWS','FLXN','FLXS','FMAO','FMB','FMBH','FMBI','FMCI','FMCIU','FMCIW','FMHI','FMK','FMNB','FNCB','FNHC','FNJN','FNK','FNKO','FNLC','FNWB','FNX','FNY','FOCS','FOLD','FONR','FORD','FORK','FORM','FORR','FORTY','FOSL','FOX','FOXA','FOXF','FPA','FPAY','FPRX','FPXE','FPXI','FRAF','FRAN','FRBA','FRBK','FREQ','FRG','FRGI','FRHC','FRME','FRPH','FRPT','FRSX','FRTA','FSBC','FSBW','FSCT','FSEA','FSFG','FSLR','FSRV','FSRVU','FSRVW','FSTR','FSV','FSZ','FTA','FTAC','FTACU','FTACW','FTAG','FTC','FTCS','FTDR','FTEK','FTFT','FTGC','FTHI','FTLB','FTNT','FTR','FTRI','FTSL','FTSM','FTSV','FTXD','FTXG','FTXH','FTXL','FTXN','FTXO','FTXR','FULC','FULT','FUNC','FUND','FUSB','FUTU','FUV','FV','FVC','FVCB','FVE','FWONA','FWONK','FWP','FWRD','FXNC','FYC','FYT','FYX','GABC','GAIA','GAIN','GAINL','GAINM','GALT','GARS','GASS','GBCI','GBDC','GBLI','GBLIL','GBLIZ','GBT','GCBC','GDEN','GDS','GDYN','GDYNW','GEC','GECC','GECCL','GECCM','GECCN','GENC','GENE','GENY','GEOS','GERN','GEVO','GFED','GFN','GFNCP','GFNSL','GGAL','GH','GHIV','GHIVU','GHSI','GIFI','GIGE','GIGM','GIII','GILD','GILT','GLAD','GLADD','GLADL','GLBS','GLBZ','GLDD','GLDI','GLG','GLIBA','GLIBP','GLMD','GLNG','GLPG','GLPI','GLRE','GLUU','GLYC','GMAB','GMDA','GMHI','GMHIU','GMHIW','GMLP','GMLPP','GNCA','GNFT','GNLN','GNMA','GNMK','GNOM','GNPX','GNRSU','GNSS','GNTX','GNTY','GNUS','GO','GOGL','GOGO','GOOD','GOODM','GOODN','GOOG','GOOGL','GOSS','GPAQ','GPAQU','GPAQW','GPOR','GPP','GPRE','GPRO','GRBK','GRFS','GRID','GRIF','GRIL','GRIN','GRMN','GRNQ','GRNV','GRNVR','GRNVU','GRNVW','GROW','GRPN','GRTS','GRTX','GRVY','GRWG','GSBC','GSHD','GSIT','GSKY','GSM','GSMG','GSMGW','GSUM','GT','GTEC','GTHX','GTIM','GTLS','GTYH','GULF','GURE','GVP','GWGH','GWPH','GWRS','GXGX','GXGXU','GXGXW','GXTG','GYRO','HA','HABT','HAFC','HAIN','HALL','HALO','HAPP','HARP','HAS','HAYN','HBAN','HBANN','HBANO','HBCP','HBIO','HBMD','HBNC','HBP','HBT','HCAC','HCACU','HCACW','HCAP','HCAPZ','HCAT','HCCH','HCCHR','HCCHW','HCCI','HCCO','HCCOU','HCCOW','HCKT','HCM','HCSG','HDS','HDSN','HEAR','HEBT','HEES','HELE','HEPA','HERD','HERO','HEWG','HFBL','HFFG','HFWA','HGSH','HHHH','HHHHR','HHHHW','HHR','HHT','HIBB','HIFS','HIHO','HIMX','HJLI','HJLIW','HLAL','HLG','HLIO','HLIT','HLNE','HMHC','HMNF','HMST','HMSY','HMTV','HNDL','HNNA','HNRG','HOFT','HOLI','HOLX','HOMB','HONE','HOOK','HOPE','HOTH','HOVNP','HQI','HQY','HROW','HRTX','HRZN','HSDT','HSIC','HSII','HSKA','HSON','HSTM','HTBI','HTBK','HTBX','HTGM','HTHT','HTIA','HTLD','HTLF','HUBG','HUGE','HUIZ','HURC','HURN','HVBC','HWBK','HWC','HWCC','HWCPL','HWKN','HX','HYAC','HYACU','HYACW','HYLS','HYND','HYRE','HYXE','HYZD','HZNP','IAC','IART','IBB','IBCP','IBKC','IBKCN','IBKCO','IBKCP','IBKR','IBOC','IBTA','IBTB','IBTD','IBTE','IBTF','IBTG','IBTH','IBTI','IBTJ','IBTX','IBUY','ICAD','ICBK','ICCC','ICCH','ICFI','ICHR','ICLK','ICLN','ICLR','ICMB','ICON','ICPT','ICUI','IDCC','IDEX','IDLB','IDN','IDRA','IDXG','IDXX','IDYA','IEA','IEAWW','IEC','IEF','IEI','IEP','IESC','IEUS','IFEU','IFGL','IFMK','IFRX','IFV','IGF','IGIB','IGIC','IGICW','IGMS','IGOV','IGSB','IHRT','III','IIIN','IIIV','IIN','IIVI','IJT','IKNX','ILMN','ILPT','IMAB','IMAC','IMACW','IMBI','IMGN','IMKTA','IMMP','IMMR','IMMU','IMOS','IMRA','IMRN','IMRNW','IMTE','IMUX','IMV','IMVT','IMVTU','IMVTW','IMXI','INAP','INBK','INBKL','INBKZ','INCY','INDB','INDY','INFI','INFN','INFR','INGN','INMB','INMD','INNT','INO','INOD','INOV','INPX','INSE','INSG','INSM','INSU','INSUU','INSUW','INTC','INTG','INTL','INTU','INVA','INVE','INWK','IONS','IOSP','IOTS','IOVA','IPAR','IPGP','IPHA','IPKW','IPLDP','IPWR','IQ','IRBT','IRCP','IRDM','IRIX','IRMD','IROQ','IRTC','IRWD','ISBC','ISDS','ISDX','ISEE','ISEM','ISHG','ISIG','ISNS','ISRG','ISSC','ISTB','ISTR','ITCI','ITI','ITIC','ITMR','ITRI','ITRM','ITRN','IUS','IUSB','IUSG','IUSS','IUSV','IVAC','IXUS','IZEA','JACK','JAGX','JAKK','JAN','JAZZ','JBHT','JBLU','JBSS','JCOM','JCS','JCTCF','JD','JFIN','JFK','JFKKR','JFKKU','JFKKW','JFU','JG','JJSF','JKHY','JKI','JMPNL','JMPNZ','JNCE','JOBS','JOUT','JRJC','JRSH','JRVR','JSM','JSMD','JSML','JVA','JYNT','KALA','KALU','KALV','KBAL','KBLM','KBLMR','KBLMU','KBLMW','KBSF','KBWB','KBWD','KBWP','KBWR','KBWY','KCAPL','KE','KELYA','KELYB','KEQU','KERN','KERNW','KFFB','KFRC','KGJI','KHC','KIDS','KIN','KINS','KIRK','KLAC','KLDO','KLIC','KLXE','KMDA','KMPH','KNDI','KNSA','KNSL','KOD','KOPN','KOSS','KPTI','KRKR','KRMA','KRMD','KRNT','KRNY','KRTX','KRUS','KRYS','KTCC','KTOS','KTOV','KTOVW','KURA','KVHI','KXIN','KZIA','KZR','LACQ','LACQU','LACQW','LAKE','LAMR','LANC','LAND','LANDP','LARK','LASR','LATN','LATNU','LATNW','LAUR','LAWS','LAZY','LBAI','LBC','LBRDA','LBRDK','LBTYA','LBTYB','LBTYK','LCA','LCAHU','LCAHW','LCNB','LCUT','LDEM','LDSF','LE','LECO','LEDS','LEGH','LEGR','LEVL','LFAC','LFACU','LFACW','LFUS','LFVN','LGIH','LGND','LHCG','LIFE','LILA','LILAK','LINC','LIND','LIQT','LITE','LIVE','LIVK','LIVKU','LIVKW','LIVN','LIVX','LIZI','LJPC','LK','LKCO','LKFN','LKQ','LLIT','LLNW','LMAT','LMB','LMBS','LMFA','LMFAW','LMNL','LMNR','LMNX','LMPX','LMRK','LMRKN','LMRKO','LMRKP','LMST','LNDC','LNGR','LNT','LNTH','LOAC','LOACR','LOACU','LOACW','LOAN','LOB','LOCO','LOGC','LOGI','LOGM','LONE','LOOP','LOPE','LORL','LOVE','LPCN','LPLA','LPSN','LPTH','LPTX','LQDA','LQDT','LRCX','LRGE','LSACU','LSBK','LSCC','LSTR','LSXMA','LSXMB','LSXMK','LTBR','LTRPA','LTRPB','LTRX','LULU','LUMO','LUNA','LVGO','LVHD','LWAY','LX','LXRX','LYFT','LYL','LYTS','MACK','MAGS','MANH','MANT','MAR','MARA','MARK','MARPS','MASI','MAT','MATW','MAYS','MBB','MBCN','MBII','MBIN','MBINO','MBINP','MBIO','MBNKP','MBOT','MBRX','MBSD','MBUU','MBWM','MCBC','MCBS','MCEF','MCEP','MCFT','MCHI','MCHP','MCHX','MCMJ','MCMJW','MCRB','MCRI','MDB','MDCA','MDGL','MDGS','MDGSW','MDIA','MDIV','MDJH','MDLZ','MDRR','MDRRP','MDRX','MDWD','MEDP','MEDS','MEET','MEIP','MELI','MEOH','MERC','MESA','MESO','METC','METX','MFH','MFIN','MFINL','MFNC','MFSF','MGEE','MGEN','MGI','MGIC','MGLN','MGNX','MGPI','MGRC','MGTA','MGTX','MGYR','MHLD','MICT','MIDD','MIK','MILN','MIME','MIND','MINDP','MINI','MIRM','MIST','MITK','MITO','MJCO','MKD','MKGI','MKSI','MKTX','MLAB','MLCO','MLHR','MLND','MLNX','MLVF','MMAC','MMLP','MMSI','MMYT','MNCL','MNCLU','MNCLW','MNDO','MNKD','MNLO','MNOV','MNPR','MNRO','MNSB','MNST','MNTA','MNTX','MOBL','MOFG','MOGO','MOHO','MOMO','MOR','MORF','MORN','MOSY','MOTS','MOXC','MPAA','MPB','MPWR','MRAM','MRBK','MRCC','MRCCL','MRCY','MREO','MRIN','MRKR','MRLN','MRNA','MRNS','MRSN','MRTN','MRTX','MRUS','MRVL','MSBF','MSBI','MSEX','MSFT','MSON','MSTR','MSVB','MTBC','MTBCP','MTC','MTCH','MTEM','MTEX','MTLS','MTP','MTRX','MTSC','MTSI','MTSL','MU','MUDS','MUDSU','MUDSW','MVBF','MVIS','MWK','MXIM','MYFW','MYGN','MYL','MYOK','MYOS','MYRG','MYSZ','MYT','NAII','NAKD','NAOV','NATH','NATI','NATR','NAVI','NBACU','NBEV','NBIX','NBL','NBLX','NBN','NBRV','NBSE','NBTB','NCBS','NCMI','NCNA','NCSM','NCTY','NDAQ','NDLS','NDRA','NDRAW','NDSN','NEBU','NEBUU','NEBUW','NEO','NEOG','NEON','NEOS','NEPH','NEPT','NERV','NESR','NESRW','NETE','NEWA','NEWT','NEWTI','NEWTL','NEXT','NFBK','NFE','NFIN','NFINU','NFINW','NFLX','NFTY','NGHC','NGHCN','NGHCO','NGHCP','NGHCZ','NGM','NH','NHLD','NHLDW','NHTC','NICE','NICK','NIU','NK','NKSH','NKTR','NLNK','NLOK','NLTX','NMCI','NMIH','NMRD','NMRK','NNBR','NNDM','NODK','NOVN','NOVT','NPA','NPAUU','NPAWW','NRBO','NRC','NRIM','NSEC','NSIT','NSSC','NSTG','NSYS','NTAP','NTCT','NTEC','NTES','NTGN','NTGR','NTIC','NTLA','NTNX','NTRA','NTRP','NTRS','NTRSO','NTUS','NTWK','NUAN','NURO','NUROW','NUVA','NVAX','NVCN','NVCR','NVDA','NVEC','NVEE','NVFY','NVIV','NVMI','NVUS','NWBI','NWFL','NWGI','NWL','NWLI','NWPX','NWS','NWSA','NXGN','NXPI','NXST','NXTC','NXTD','NXTG','NYMT','NYMTM','NYMTN','NYMTO','NYMTP','NYMX','OAS','OBAS','OBCI','OBLN','OBNK','OBSV','OCC','OCCI','OCCIP','OCFC','OCGN','OCSI','OCSL','OCUL','ODFL','ODP','ODT','OESX','OFED','OFIX','OFLX','OFS','OFSSI','OFSSL','OFSSZ','OGI','OIIM','OKTA','OLD','OLED','OLLI','OMAB','OMCL','OMER','OMEX','OMP','ON','ONB','ONCS','ONCT','ONCY','ONEM','ONEQ','ONEW','ONTX','ONTXW','ONVO','OPB','OPBK','OPCH','OPES','OPESW','OPGN','OPGNW','OPHC','OPI','OPINI','OPK','OPNT','OPOF','OPRA','OPRT','OPRX','OPTN','OPTT','ORBC','ORGO','ORGS','ORLY','ORMP','ORRF','ORSN','ORSNR','ORSNU','ORSNW','ORTX','OSBC','OSIS','OSMT','OSN','OSPN','OSS','OSTK','OSUR','OSW','OTEL','OTEX','OTIC','OTLK','OTLKW','OTTR','OTTW','OVBC','OVID','OVLY','OXBR','OXBRW','OXFD','OXLC','OXLCM','OXLCO','OXLCP','OXSQ','OXSQL','OXSQZ','OYST','OZK','PAAC','PAACR','PAACU','PAACW','PAAS','PACB','PACQ','PACQU','PACQW','PACW','PAE','PAEWW','PAHC','PANL','PASG','PATI','PATK','PAVM','PAVMW','PAVMZ','PAYS','PAYX','PBBI','PBCT','PBCTP','PBFS','PBHC','PBIP','PBPB','PBTS','PBYI','PCAR','PCB','PCH','PCOM','PCRX','PCSB','PCTI','PCTY','PCYG','PCYO','PDBC','PDCE','PDCO','PDD','PDEV','PDEX','PDFS','PDLB','PDLI','PDP','PDSB','PEBK','PEBO','PECK','PEGA','PEGI','PEIX','PENN','PEP','PERI','PESI','PETQ','PETS','PETZ','PEY','PEZ','PFBC','PFBI','PFF','PFG','PFHD','PFI','PFIE','PFIN','PFIS','PFLT','PFM','PFMT','PFPT','PFSW','PGC','PGEN','PGJ','PGNX','PGNY','PHAS','PHAT','PHCF','PHIO','PHIOW','PHO','PHUN','PHUNW','PI','PICO','PID','PIE','PIH','PIHPP','PINC','PIO','PIRS','PIXY','PIZ','PKBK','PKOH','PKW','PLAB','PLAY','PLBC','PLC','PLCE','PLIN','PLL','PLMR','PLPC','PLSE','PLUG','PLUS','PLW','PLXP','PLXS','PLYA','PMBC','PMD','PME','PMOM','PNBK','PNFP','PNNT','PNNTG','PNQI','PNRG','PNTG','POAI','PODD','POLA','POOL','POPE','POTX','POWI','POWL','PPBI','PPC','PPD','PPH','PPHI','PPIH','PPSI','PRAA','PRAH','PRCP','PRDO','PRFT','PRFZ','PRGS','PRGX','PRIM','PRN','PRNB','PROF','PROV','PRPH','PRPL','PRPO','PRQR','PRSC','PRTA','PRTH','PRTK','PRTS','PRVB','PRVL','PS','PSC','PSCC','PSCD','PSCE','PSCF','PSCH','PSCI','PSCM','PSCT','PSCU','PSEC','PSET','PSHG','PSL','PSM','PSMT','PSNL','PSTI','PSTV','PSTVZ','PT','PTAC','PTACU','PTACW','PTC','PTCT','PTE','PTEN','PTF','PTGX','PTH','PTI','PTLA','PTMN','PTNR','PTON','PTSI','PTVCA','PTVCB','PUB','PUI','PULM','PUYI','PVAC','PVAL','PVBC','PWFL','PWOD','PXI','PXLW','PXS','PY','PYPL','PYZ','PZZA','QABA','QADA','QADB','QAT','QBAK','QCLN','QCOM','QCRH','QDEL','QFIN','QIWI','QK','QLYS','QMCO','QNST','QQEW','QQQ','QQQX','QQXT','QRHC','QRTEA','QRTEB','QRVO','QTEC','QTNT','QTRX','QTT','QUIK','QUMU','QURE','QYLD','RADA','RAIL','RAND','RAPT','RARE','RARX','RAVE','RAVN','RBB','RBBN','RBCAA','RBCN','RBKB','RBNC','RBZ','RCEL','RCII','RCKT','RCKY','RCM','RCMT','RCON','RDCM','RDFN','RDHL','RDI','RDIB','RDNT','RDUS','RDVT','RDVY','RDWR','REAL','RECN','REDU','REED','REFR','REG','REGI','REGN','REKR','RELL','RELV','REPH','REPL','RESN','RETA','RETO','REXN','REYN','RFAP','RFDI','RFEM','RFEU','RFIL','RGCO','RGEN','RGLD','RGLS','RGNX','RGP','RIBT','RICK','RIGL','RILY','RILYG','RILYH','RILYI','RILYM','RILYN','RILYO','RILYP','RILYZ','RING','RIOT','RIVE','RKDA','RLMD','RMBI','RMBL','RMBS','RMCF','RMNI','RMR','RMTI','RNDB','RNDM','RNDV','RNEM','RNET','RNLC','RNMC','RNSC','RNST','RNWK','ROAD','ROBT','ROCK','ROIC','ROKU','ROLL','ROSE','ROSEU','ROSEW','ROST','RP','RPAY','RPD','RRBI','RRGB','RRR','RSSS','RTH','RTIX','RTLR','RTRX','RTTR','RUBY','RUHN','RUN','RUSHA','RUSHB','RUTH','RVMD','RVNC','RVSB','RWLK','RYAAY','RYTM','SABR','SAEX','SAFM','SAFT','SAGE','SAIA','SAL','SALM','SAMA','SAMAU','SAMAW','SAMG','SANM','SANW','SAQN','SAQNU','SAQNW','SASR','SATS','SAVA','SBAC','SBBP','SBBX','SBCF','SBFG','SBGI','SBLK','SBLKZ','SBNY','SBPH','SBRA','SBSI','SBT','SBUX','SCHL','SCHN','SCKT','SCON','SCOR','SCPH','SCPL','SCSC','SCVL','SCWX','SCYX','SCZ','SDC','SDG','SDGR','SDVY','SEAC','SECO','SEDG','SEED','SEEL','SEIC','SELB','SELF','SENEA','SENEB','SES','SESN','SFBC','SFBS','SFET','SFIX','SFM','SFNC','SFST','SG','SGA','SGBX','SGC','SGEN','SGH','SGLB','SGLBW','SGMA','SGMO','SGMS','SGOC','SGRP','SGRY','SHBI','SHEN','SHIP','SHIPW','SHIPZ','SHLO','SHOO','SHSP','SHV','SHY','SIBN','SIC','SIEB','SIEN','SIFY','SIGA','SIGI','SILC','SILK','SIMO','SINA','SINO','SINT','SIRI','SITM','SIVB','SIVBP','SKOR','SKYS','SKYW','SKYY','SLAB','SLCT','SLDB','SLGG','SLGL','SLGN','SLM','SLMBP','SLNO','SLP','SLQD','SLRC','SLRX','SLS','SLVO','SMBC','SMBK','SMCI','SMCP','SMED','SMH','SMIT','SMMC','SMMCU','SMMCW','SMMF','SMMT','SMPL','SMRT','SMSI','SMTC','SMTX','SNBR','SNCA','SNCR','SND','SNDE','SNDL','SNDX','SNES','SNFCA','SNGX','SNGXW','SNLN','SNOA','SNPS','SNSR','SNSS','SNUG','SNY','SOCL','SOHO','SOHOB','SOHON','SOHOO','SOHU','SOLO','SOLOW','SOLY','SONA','SONG','SONGW','SONM','SONN','SONO','SORL','SOXX','SP','SPAR','SPCB','SPFI','SPI','SPKE','SPKEP','SPLK','SPNE','SPNS','SPOK','SPPI','SPRO','SPRT','SPSC','SPT','SPTN','SPWH','SPWR','SQBG','SQLV','SQQQ','SRAC','SRACU','SRACW','SRAX','SRCE','SRCL','SRDX','SRET','SREV','SRNE','SRPT','SRRA','SRRK','SRTS','SRTSW','SSB','SSBI','SSKN','SSNC','SSNT','SSP','SSPK','SSPKU','SSPKW','SSRM','SSSS','SSTI','SSYS','STAA','STAF','STAY','STBA','STCN','STFC','STIM','STKL','STKS','STLD','STML','STMP','STND','STNE','STOK','STRA','STRL','STRM','STRO','STRS','STRT','STSA','STX','STXB','SUMR','SUNS','SUNW','SUPN','SURF','SUSB','SUSC','SUSL','SVBI','SVC','SVMK','SVRA','SVVC','SWAV','SWIR','SWKH','SWKS','SWTX','SXTC','SY','SYBT','SYBX','SYKE','SYNA','SYNC','SYNH','SYNL','SYPR','SYRS','TA','TACO','TACOW','TACT','TAIT','TANH','TANNI','TANNL','TANNZ','TAOP','TARA','TAST','TATT','TAYD','TBBK','TBIO','TBK','TBLT','TBLTW','TBNK','TBPH','TC','TCBI','TCBIL','TCBIP','TCBK','TCCO','TCDA','TCF','TCFC','TCFCP','TCMD','TCOM','TCON','TCPC','TCRD','TCRR','TCX','TDAC','TDACU','TDACW','TDIV','TEAM','TECD','TECH','TECTP','TEDU','TELA','TELL','TENB','TENX','TER','TERP','TESS','TEUM','TFFP','TFSL','TGA','TGEN','TGLS','TGTX','TH','THBR','THBRU','THBRW','THCA','THCAU','THCAW','THCB','THCBU','THCBW','THFF','THMO','THRM','THTX','THWWW','TIBR','TIBRW','TIGO','TIGR','TILE','TIPT','TITN','TIVO','TLC','TLF','TLGT','TLND','TLRY','TLSA','TLT','TMDI','TMDX','TMSR','TMUS','TNAV','TNDM','TNXP','TOCA','TOPS','TORC','TOTA','TOTAR','TOTAW','TOUR','TOWN','TPCO','TPIC','TPTX','TQQQ','TRCH','TREE','TRHC','TRIB','TRIL','TRIP','TRMB','TRMD','TRMK','TRMT','TRNS','TRNX','TROV','TROW','TRPX','TRS','TRST','TRUE','TRUP','TRVG','TRVI','TRVN','TSBK','TSC','TSCAP','TSCBP','TSCO','TSEM','TSG','TSLA','TSRI','TTD','TTEC','TTEK','TTGT','TTMI','TTNP','TTOO','TTPH','TTTN','TTWO','TUES','TUR','TURN','TUSA','TUSK','TVIX','TVTY','TW','TWIN','TWMC','TWNK','TWNKW','TWOU','TWST','TXG','TXMD','TXN','TXRH','TYHT','TYME','TZAC','TZACU','TZACW','TZOO','UAE','UAL','UBCP','UBFO','UBIO','UBOH','UBSI','UBX','UCBI','UCTT','UEIC','UEPS','UFCS','UFO','UFPI','UFPT','UG','UGLD','UHAL','UIHC','ULBI','ULH','ULTA','UMBF','UMPQ','UMRX','UNAM','UNB','UNIT','UNTY','UONE','UONEK','UPLD','UPWK','URBN','URGN','UROV','USAK','USAP','USAU','USCR','USEG','USIG','USIO','USLB','USLM','USLV','USMC','USOI','USWS','USWSW','UTHR','UTMD','UTSI','UVSP','UXIN','VALU','VALX','VBFC','VBIV','VBLT','VBTX','VC','VCEL','VCIT','VCLT','VCNX','VCSH','VCTR','VCYT','VECO','VEON','VERB','VERBW','VERI','VERO','VERU','VERY','VETS','VFF','VG','VGIT','VGLT','VGSH','VIAC','VIACA','VIAV','VICR','VIE','VIGI','VIIX','VIOT','VIR','VIRC','VIRT','VISL','VIVE','VIVO','VKTX','VKTXW','VLGEA','VLY','VLYPO','VLYPP','VMBS','VMD','VNDA','VNET','VNOM','VNQI','VOD','VONE','VONG','VONV','VOXX','VRA','VRAY','VRCA','VREX','VRIG','VRML','VRNA','VRNS','VRNT','VRRM','VRSK','VRSN','VRTS','VRTU','VRTX','VSAT','VSDA','VSEC','VSMV','VSTM','VTC','VTGN','VTHR','VTIP','VTIQ','VTIQU','VTIQW','VTNR','VTSI','VTVT','VTWG','VTWO','VTWV','VUZI','VVPR','VVUS','VWOB','VXRT','VXUS','VYGR','VYMI','WABC','WAFD','WAFU','WASH','WATT','WB','WBA','WBND','WCLD','WDAY','WDC','WDFC','WEBK','WEN','WERN','WETF','WEYS','WHF','WHFBZ','WHLM','WHLR','WHLRD','WHLRP','WIFI','WILC','WIMI','WINA','WINC','WING','WINS','WIRE','WISA','WIX','WKEY','WKHS','WLDN','WLFC','WLTW','WMGI','WNEB','WOOD','WORX','WPRT','WRLD','WRLS','WRLSR','WRLSU','WRLSW','WRTC','WSBC','WSBF','WSC','WSFS','WSG','WSTG','WSTL','WTBA','WTER','WTFC','WTFCM','WTRE','WTREP','WTRH','WVE','WVFC','WVVI','WVVIP','WW','WWD','WWR','WYNN','XAIR','XBIO','XBIOW','XBIT','XCUR','XEL','XELA','XELB','XENE','XENT','XERS','XFOR','XGN','XLNX','XLRN','XNCR','XNET','XOG','XOMA','XONE','XP','XPEL','XPER','XRAY','XSPA','XT','XTLB','YGYI','YGYIP','YI','YIN','YJ','YLCO','YLDE','YMAB','YNDX','YORW','YRCW','YTEN','YTRA','YVR','YY','Z','ZAGG','ZBIO','ZBRA','ZCMD','ZEAL','ZEUS','ZFGN','ZG','ZGNX','ZGYHU','ZION','ZIONL','ZIONN','ZIONO','ZIONP','ZIONW','ZIOP','ZIV','ZIXI','ZKIN','ZLAB','ZM','ZN','ZNGA','ZNTL','ZS','ZSAN','ZUMZ','ZVO','ZYNE','ZYXI']

        
total = SandPplusNasdaq + NYSE + NASDAQ
        
set_total = (set(total))
list_set_total = list(set_total)

total = np.array_split(list_set_total, 30)        

print(len(total[1]))

number = 0 
okayarraylist = []
notokayarraylist = []

for i in total[1][75:]:
    
    try: 
      url = "https://alpha-vantage.p.rapidapi.com/query"

      querystring = {"outputsize":"full","datatype":"json","function":"TIME_SERIES_DAILY_ADJUSTED","symbol":'{}'.format(i)}
          
      headers = {
          'x-rapidapi-host': "",
          'x-rapidapi-key': ""
          }

      response = requests.request("GET", url, headers=headers, params=querystring)

      result_dict = json.loads(response.text)
      
      stock_symbol = result_dict['Meta Data']['2. Symbol']
      last_date = result_dict['Meta Data']['3. Last Refreshed']
    except: 
        notokayarraylist.append(i)
        print('Not okay list: ',len(notokayarraylist))
        print(notokayarraylist)
        time.sleep(15)
        continue
        
    date_data = []
    high = []
    low = []
    adjustedClose = []
    volume = []
    
    try:

      for i, j in result_dict['Time Series (Daily)'].items():

        date_data.append(i)

        for k, l in j.items():
          
          if k == '2. high': 
            high.append(l)
          elif k == '3. low':
            low.append(l)
          elif k == '5. adjusted close': 
            adjustedClose.append(l)
          elif k == '6. volume': 
            volume.append(l)



      df_date = pd.DataFrame({ 'date_data': date_data, 'high': high, 'low': low, 
      'adjustedClose': adjustedClose, 'volume': volume })

      df_date['date_data'] =  pd.to_datetime(df_date['date_data'], format='%Y-%m-%d')

      df_date['year'] = df_date['date_data'].dt.year

      df_date = df_date.iloc[::-1].reset_index(drop=True)

      new_df = df_date.reindex(df_date['date_data'])

      new_df['adjustedClose'] = df_date['adjustedClose'].values


      START_DATE = df_date['date_data'].iloc[0]
      END_DATE = df_date['date_data'].iloc[-1]


      def clean_date(stock_data, col): 
          weekdays = pd.date_range(start=START_DATE, end=END_DATE)
          clean_data = stock_data[col].reindex(weekdays)
          return clean_data.fillna(method='ffill')


      def get_stats(stock_data): 
          return { 
              'short_rolling': stock_data.rolling(window=20).mean(),
              'medium_rolling': stock_data.rolling(window=50).mean(),
              'long_rolling': stock_data.rolling(window=200).mean()
          }

      def create_plot(stock_data, ticker): 
          plt.style.use('fivethirtyeight')
          stats = get_stats(stock_data)
          plt.subplots(figsize=(15,10))
          plt.plot(stock_data, label=ticker, linewidth=0.6)
          plt.plot(stats['short_rolling'], label='20 day rolling mean', linewidth=0.6)
          plt.plot(stats['medium_rolling'], label='50 days rolling mean', linewidth=0.6)
          plt.plot(stats['long_rolling'], label='200 day rolling mean', linewidth=0.6)
          plt.xlabel('Date')
          plt.ylabel('Adj Close (p)')
          plt.legend(loc='upper left')
          plt.grid(True, linestyle='--', linewidth=1)
          plt.title('Stock Price over Time.')
          plt.savefig('./six_thousand_images1/{}_{}_{}.png'.format(stock_symbol, 'detail', last_date))
          plt.clf()
          plt.close()


      clean_data = clean_date(new_df, 'adjustedClose')

      create_plot(clean_data.astype(float), stock_symbol) # Graph for own observation 

      fig = plt.figure()
      ax = fig.add_subplot(111)
      plt.style.use('ggplot')
      plt.xticks([])
      plt.yticks([])
      plt.grid(False)
      # X AXIS -BORDER
      ax.spines['bottom'].set_visible(False)
      # BLUE
      ax.set_xticklabels([])
      # RED
      ax.set_xticks([])
      # RED AND BLUE TOGETHER
      ax.axes.get_xaxis().set_visible(False)
      clean_data.astype(float).plot(linewidth=0.6)
      plt.savefig('./six_thousand_images1/{}_{}_{}.png'.format(stock_symbol, 'ai', last_date))
      plt.clf()
      plt.close()

      okayarraylist.append(stock_symbol)
      print('okay list: ', len(okayarraylist))
      print(okayarraylist)

      time.sleep(15)
    except: 
      time.sleep(15)
      continue

print("total: ", len(okayarraylist) + len(notokayarraylist))